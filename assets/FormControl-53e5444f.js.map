{"version":3,"file":"FormControl-53e5444f.js","sources":["../../src/components/Form/styles.ts","../../src/components/Form/FormControl.tsx"],"sourcesContent":["import { css } from '@fuel-ui/css';\n\nexport const control = css({\n  is: ['display'],\n  display: 'flex',\n  flexDirection: 'column',\n  gap: '$2',\n});\n\nexport const label = css({\n  px: '$1',\n  display: 'inline-flex',\n  alignItems: 'center',\n  gap: '$2',\n  color: '$intentsBase11',\n  fontWeight: '$normal',\n  fontSize: '$base',\n\n  variants: {\n    required: {\n      true: {\n        '&:after': {\n          display: 'block',\n          content: '*',\n          color: '$brand',\n        },\n      },\n    },\n  },\n});\n\nexport const helperText = css({\n  px: '$1',\n  textSize: 'sm',\n\n  '&[aria-hidden=true]': {\n    display: 'none',\n  },\n});\n\nexport const errorMessage = css({\n  px: '$1',\n  textSize: 'sm',\n  color: '$intentsError9',\n\n  '&[aria-hidden=true]': {\n    display: 'none',\n  },\n});\n","import { cx } from '@fuel-ui/css';\nimport { Children, createContext, useContext, useId } from 'react';\n\nimport { createComponent, createStyledElement } from '../../utils';\n\nimport * as styles from './styles';\n\nfunction getRightDescribedBy(ids: string[], id: string, isInvalid?: boolean) {\n  if (isInvalid && ids.some((i) => i?.includes('FormErrorMessage'))) {\n    return `feedback${id}`;\n  }\n  if (ids.some((i) => i?.includes('FormHelperText'))) {\n    return `helperText${id}`;\n  }\n  return `label${id}`;\n}\n\nexport type FormControlProps = {\n  isRequired?: boolean;\n  isInvalid?: boolean;\n  isDisabled?: boolean;\n  isReadOnly?: boolean;\n};\n\ntype Context = FormControlProps & {\n  id: string;\n  describedBy?: string;\n};\n\nconst ctx = createContext<Context>({ id: '' });\nexport function useFormControlProps() {\n  return useContext(ctx);\n}\n\nexport const FormControl = createComponent<FormControlProps>(\n  ({\n    children,\n    className,\n    isRequired,\n    isInvalid,\n    isDisabled,\n    isReadOnly,\n    ...props\n  }) => {\n    const id = useId();\n    const classes = cx('fuel_FormControl', className);\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const childArr = Children.toArray(children) as any[];\n    const childIds = childArr.map((child) => child?.type?.id);\n    const describedBy = getRightDescribedBy(childIds, id, isInvalid);\n\n    const inputProps = {\n      id,\n      isRequired,\n      isInvalid,\n      isDisabled,\n      isReadOnly,\n      describedBy,\n    };\n\n    const customProps = {\n      ...props,\n      role: 'group',\n      className: classes,\n    };\n\n    return (\n      <ctx.Provider value={inputProps}>\n        {createStyledElement(\n          'div',\n          styles.control,\n          null,\n          customProps,\n          children\n        )}\n      </ctx.Provider>\n    );\n  }\n);\n"],"names":["control","css","label","helperText","errorMessage","getRightDescribedBy","ids","id","isInvalid","i","ctx","createContext","useFormControlProps","useContext","FormControl","createComponent","children","className","isRequired","isDisabled","isReadOnly","props","useId","classes","cx","childIds","Children","child","_a","describedBy","inputProps","customProps","jsx","createStyledElement","styles.control"],"mappings":"wGAEO,MAAMA,EAAUC,EAAI,CACzB,GAAI,CAAC,SAAS,EACd,QAAS,OACT,cAAe,SACf,IAAK,IACP,CAAC,EAEYC,EAAQD,EAAI,CACvB,GAAI,KACJ,QAAS,cACT,WAAY,SACZ,IAAK,KACL,MAAO,iBACP,WAAY,UACZ,SAAU,QAEV,SAAU,CACR,SAAU,CACR,KAAM,CACJ,UAAW,CACT,QAAS,QACT,QAAS,IACT,MAAO,QACT,CACF,CACF,CACF,CACF,CAAC,EAEYE,EAAaF,EAAI,CAC5B,GAAI,KACJ,SAAU,KAEV,sBAAuB,CACrB,QAAS,MACX,CACF,CAAC,EAEYG,EAAeH,EAAI,CAC9B,GAAI,KACJ,SAAU,KACV,MAAO,iBAEP,sBAAuB,CACrB,QAAS,MACX,CACF,CAAC,ECzCD,SAAAI,EAAAC,EAAAC,EAAAC,EAAA,CACE,OAAAA,GAAAF,EAAA,KAAAG,GAAAA,GAAA,YAAAA,EAAA,SAAA,mBAAA,EACE,WAAAF,IAEFD,EAAA,KAAAG,GAAAA,GAAA,YAAAA,EAAA,SAAA,iBAAA,EACE,aAAAF,IAEF,QAAAA,GACF,CAcA,MAAAG,EAAAC,EAAAA,cAAA,CAAA,GAAA,EAAA,CAAA,EACO,SAAAC,GAAA,CACL,OAAAC,EAAAA,WAAAH,CAAA,CACF,CAEO,MAAAI,EAAAC,EAAoB,CAAA,CACxB,SAAAC,EACC,UAAAC,EACA,WAAAC,EACA,UAAAV,EACA,WAAAW,EACA,WAAAC,EACA,GAAAC,CACG,IAAA,CAEH,MAAAd,EAAAe,EAAAA,QACAC,EAAAC,EAAA,mBAAAP,CAAA,EAIAQ,EADAC,EAAAA,SAAA,QAAAV,CAAA,EACA,IAAAW,GAAA,OAAA,OAAAC,EAAAD,GAAA,YAAAA,EAAA,OAAA,YAAAC,EAAA,GAAA,EACAC,EAAAxB,EAAAoB,EAAAlB,EAAAC,CAAA,EAEAsB,EAAA,CAAmB,GAAAvB,EACjB,WAAAW,EACA,UAAAV,EACA,WAAAW,EACA,WAAAC,EACA,YAAAS,CACA,EAGFE,EAAA,CAAoB,GAAAV,EACf,KAAA,QACG,UAAAE,CACK,EAGb,OAAAS,EAAAtB,EAAA,SAAA,CAAA,MAAAoB,EAAA,SAAAG,EAEK,MACCC,EACO,KACPH,EACAf,CACA,CAAA,CAAA,CAEJ,CAGN"}