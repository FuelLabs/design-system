import{g as oe,h as ke,j as J,A as St,w as Ut}from"./system-5118686d.js";import{r as W}from"./index-8db94870.js";import{S as xt}from"./Stack-1df623d4.js";import{F as Mt}from"./Focus-9ae2ff2a.js";import{I as zt}from"./index-e0df417c.js";import"./index-1fd431dc.js";import{I as Bt}from"./IconButton-15e5222d.js";import"./index-2e110d33.js";import{B as Gt}from"./Button-74374672.js";const ze=oe(({className:t,page:e})=>{const r=ke("fuel_PaginationItem",t),n=ut(),i=e===1&&n.autoFocus,a=n.currentPage===e,s=e<0;return J(Gt,{"aria-label":`Page ${e}`,autoFocus:i,className:r,"data-selected":a,"data-variant":n.variant,variant:n.variant,size:n.size,color:n.color,css:Jt.base,isDisabled:s,onPress:()=>n.goTo(e),...s&&{tabIndex:-1},children:e<0?"...":e})}),Jt={base:St({is:["display"],'&:not([data-selected="true"])':{color:"$intentsBase10"},'&[data-variant="solid"]:not([data-selected="true"])':{background:"$intentsBase3"},'&[data-variant="outlined"]:not([data-selected="true"])':{borderColor:"$intentsBase3"},'&[data-variant="ghost"]:not([data-selected="true"])':{background:"$intentsBase3"},'&[aria-disabled="true"]':{background:"transparent !important",borderColor:"transparent !important"},'&[aria-disabled="true"]:focus':{outline:"none"}})};try{ze.displayName="PaginationItem",ze.__docgenInfo={description:"",displayName:"PaginationItem",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"any"}},css:{defaultValue:null,description:"",name:"css",required:!1,type:{name:"ThemeUtilsCSS"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}}}}}catch{}const Be=oe(({className:t,as:e,...r})=>{const n=ke("fuel_PaginationItems",t),i=ut();return J(xt,{...r,direction:"row",as:e,className:n,children:(i.pages||[]).map(a=>J(ze,{page:a},a))})});try{Be.displayName="PaginationItems",Be.__docgenInfo={description:"",displayName:"PaginationItems",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"any"}},direction:{defaultValue:null,description:"Shorthand for `flexDirection` style prop",name:"direction",required:!1,type:{name:'SystemProps["flexDirection"]'}},gap:{defaultValue:null,description:"Shorthand for `gap` style prop",name:"gap",required:!1,type:{name:'SystemProps["gap"]'}},css:{defaultValue:null,description:"",name:"css",required:!1,type:{name:"ThemeUtilsCSS"}},align:{defaultValue:null,description:"Shorthand for `alignItems` style prop",name:"align",required:!1,type:{name:'SystemProps["alignItems"]'}},basis:{defaultValue:null,description:"Shorthand for `flexBasis` style prop",name:"basis",required:!1,type:{name:'SystemProps["flexBasis"]'}},grow:{defaultValue:null,description:"Shorthand for `flexGrow` style prop",name:"grow",required:!1,type:{name:'SystemProps["flexGrow"]'}},justify:{defaultValue:null,description:"Shorthand for `justifyContent` style prop",name:"justify",required:!1,type:{name:'SystemProps["justifyContent"]'}},shrink:{defaultValue:null,description:"Shorthand for `flexShrink` style prop",name:"shrink",required:!1,type:{name:'SystemProps["flexShrink"]'}},wrap:{defaultValue:null,description:"Shorthand for `flexWrap` style prop",name:"wrap",required:!1,type:{name:'SystemProps["flexWrap"]'}}}}}catch{}const Ce=oe(({direction:t,className:e,...r})=>{const n=ke(`fuel_Pagination-${t}`,e),i=ut(),{currentPage:a,pagesCount:s}=i,o=t==="next"?a===s:a===1;return J(Bt,{...r,icon:zt.is(t==="next"?"CaretRight":"CaretLeft"),"aria-label":t==="next"?"Next page":"Previous page",className:n,"data-variant":i.variant,variant:i.variant,size:i.size,color:i.color,css:Wt.base,isDisabled:o,onPress:()=>i[t]()})}),Wt={base:St({is:["display"],px:"$1",color:"$intentsBase7",background:"transparent !important",borderColor:"transparent !important",'&:hover:not([aria-disabled="true"])':{color:"$intentsBase10"},'&[aria-disabled="true"]:focus':{outline:"none"}})};try{Ce.displayName="PaginationNav",Ce.__docgenInfo={description:"",displayName:"PaginationNav",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"any"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"enum",value:[{value:'"next"'},{value:'"prev"'}]}},css:{defaultValue:null,description:"",name:"css",required:!1,type:{name:"ThemeUtilsCSS"}}}}}catch{}const Ge=oe(t=>J(Ce,{...t,direction:"next"}));try{Ge.displayName="PaginationNext",Ge.__docgenInfo={description:"",displayName:"PaginationNext",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"any"}},css:{defaultValue:null,description:"",name:"css",required:!1,type:{name:"ThemeUtilsCSS"}}}}}catch{}const Je=oe(t=>J(Ce,{...t,direction:"prev"}));try{Je.displayName="PaginationPrev",Je.__docgenInfo={description:"",displayName:"PaginationPrev",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"any"}},css:{defaultValue:null,description:"",name:"css",required:!1,type:{name:"ThemeUtilsCSS"}}}}}catch{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v=function(){return v=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v.apply(this,arguments)};function rt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function E(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function q(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var I;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(I||(I={}));var ae;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(ae||(ae={}));var We=I.Start,nt=I.Stop,xe=I.Raise,$e=I.Send,bt=I.Cancel,Xt=I.NullEvent,it=I.Assign;I.After;I.DoneState;var wt=I.Log,Yt=I.Init,Xe=I.Invoke;I.ErrorExecution;var ft=I.ErrorPlatform,Qt=I.ErrorCustom,Pt=I.Update,Kt=I.Choose,Zt=I.Pure,Et=".",ct={},Ye="xstate.guard",Ht="",we;function at(t,e,r){r===void 0&&(r=Et);var n=pe(t,r),i=pe(e,r);return A(i)?A(n)?i===n:!1:A(n)?n in i:Object.keys(n).every(function(a){return a in i?at(n[a],i[a]):!1})}function Ot(t){try{return A(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Qe(t,e){try{return ue(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function er(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function pe(t,e){if(er(t))return t.value;if(ue(t))return De(t);if(typeof t!="string")return t;var r=Qe(t,e);return De(r)}function De(t){if(t.length===1)return t[0];for(var e={},r=e,n=0;n<t.length-1;n++)n===t.length-2?r[t[n]]=t[n+1]:(r[t[n]]={},r=r[t[n]]);return e}function ce(t,e){for(var r={},n=Object.keys(t),i=0;i<n.length;i++){var a=n[i];r[a]=e(t[a],a,t,i)}return r}function dt(t,e,r){var n,i,a={};try{for(var s=E(Object.keys(t)),o=s.next();!o.done;o=s.next()){var u=o.value,l=t[u];r(l)&&(a[u]=e(l,u,t))}}catch(f){n={error:f}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}var tr=function(t){return function(e){var r,n,i=e;try{for(var a=E(t),s=a.next();!s.done;s=a.next()){var o=s.value;i=i[o]}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}};function rr(t,e){return function(r){var n,i,a=r;try{for(var s=E(t),o=s.next();!o.done;o=s.next()){var u=o.value;a=a[e][u]}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}}function je(t){if(!t)return[[]];if(A(t))return[[t]];var e=V(Object.keys(t).map(function(r){var n=t[r];return typeof n!="string"&&(!n||!Object.keys(n).length)?[[r]]:je(t[r]).map(function(i){return[r].concat(i)})}));return e}function V(t){var e;return(e=[]).concat.apply(e,q([],O(t),!1))}function Tt(t){return ue(t)?t:[t]}function z(t){return t===void 0?[]:Tt(t)}function qe(t,e,r){var n,i;if(N(t))return t(e,r.data);var a={};try{for(var s=E(Object.keys(t)),o=s.next();!o.done;o=s.next()){var u=o.value,l=t[u];N(l)?a[u]=l(e,r.data):a[u]=l}}catch(f){n={error:f}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}function nr(t){return/^(done|error)\./.test(t)}function ht(t){return!!(t instanceof Promise||t!==null&&(N(t)||typeof t=="object")&&N(t.then))}function ir(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function ar(t,e){var r,n,i=O([[],[]],2),a=i[0],s=i[1];try{for(var o=E(t),u=o.next();!u.done;u=o.next()){var l=u.value;e(l)?a.push(l):s.push(l)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return[a,s]}function Nt(t,e){return ce(t.states,function(r,n){if(r){var i=(A(e)?void 0:e[n])||(r?r.current:void 0);if(i)return{current:i,states:Nt(r,i)}}})}function sr(t,e){return{current:e,states:Nt(t,e)}}function vt(t,e,r,n){var i=t&&r.reduce(function(a,s){var o,u,l=s.assignment,f={state:n,action:s,_event:e},d={};if(N(l))d=l(a,e.data,f);else try{for(var c=E(Object.keys(l)),h=c.next();!h.done;h=c.next()){var y=h.value,p=l[y];d[y]=N(p)?p(a,e.data,f):p}}catch(x){o={error:x}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}return Object.assign({},a,d)},t);return i}var or=function(){};function ue(t){return Array.isArray(t)}function N(t){return typeof t=="function"}function A(t){return typeof t=="string"}function _t(t,e){if(t)return A(t)?{type:Ye,name:t,predicate:e?e[t]:void 0}:N(t)?{type:Ye,name:t.name,predicate:t}:t}function ur(t){try{return"subscribe"in t&&N(t.subscribe)}catch{return!1}}var X=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();we={},we[X]=function(){return this},we[Symbol.observable]=function(){return this};function se(t){return!!t&&"__xstatenode"in t}function lr(t){return!!t&&typeof t.send=="function"}function Fe(t,e){return A(t)||typeof t=="number"?v({type:t},e):t}function k(t,e){if(!A(t)&&"$$type"in t&&t.$$type==="scxml")return t;var r=Fe(t);return v({name:r.type,data:r,$$type:"scxml",type:"external"},e)}function H(t,e){var r=Tt(e).map(function(n){return typeof n>"u"||typeof n=="string"||se(n)?{target:n,event:t}:v(v({},n),{event:t})});return r}function fr(t){if(!(t===void 0||t===Ht))return z(t)}function jt(t,e,r,n,i){var a=t.options.guards,s={state:i,cond:e,_event:n};if(e.type===Ye)return((a==null?void 0:a[e.name])||e.predicate)(r,n.data,s);var o=a==null?void 0:a[e.type];if(!o)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return o(r,n.data,s)}function At(t){return typeof t=="string"?{type:t}:t}function ye(t,e,r){var n=function(){},i=typeof t=="object",a=i?t:null;return{next:((i?t.next:t)||n).bind(a),error:((i?t.error:e)||n).bind(a),complete:((i?t.complete:r)||n).bind(a)}}function Pe(t,e){return"".concat(t,":invocation[").concat(e,"]")}function Ke(t){return(t.type===xe||t.type===$e&&t.to===ae.Internal)&&typeof t.delay!="number"}var ie=k({type:Yt});function Ze(t,e){return e&&e[t]||void 0}function ge(t,e){var r;if(A(t)||typeof t=="number"){var n=Ze(t,e);N(n)?r={type:t,exec:n}:n?r=n:r={type:t,exec:void 0}}else if(N(t))r={type:t.name||t.toString(),exec:t};else{var n=Ze(t.type,e);if(N(n))r=v(v({},t),{exec:n});else if(n){var i=n.type||t.type;r=v(v(v({},n),t),{type:i})}else r=t}return r}var Y=function(t,e){if(!t)return[];var r=ue(t)?t:[t];return r.map(function(n){return ge(n,e)})};function st(t){var e=ge(t);return v(v({id:A(t)?t:e.id},e),{type:e.type})}function cr(t,e){return{type:xe,event:typeof t=="function"?t:Fe(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function dr(t,e,r,n){var i={_event:r},a=k(N(t.event)?t.event(e,r.data,i):t.event),s;if(A(t.delay)){var o=n&&n[t.delay];s=N(o)?o(e,r.data,i):o}else s=N(t.delay)?t.delay(e,r.data,i):t.delay;return v(v({},t),{type:xe,_event:a,delay:s})}function hr(t,e){return{to:e?e.to:void 0,type:$e,event:N(t)?t:Fe(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:N(t)?t.name:Ot(t)}}function vr(t,e,r,n){var i={_event:r},a=k(N(t.event)?t.event(e,r.data,i):t.event),s;if(A(t.delay)){var o=n&&n[t.delay];s=N(o)?o(e,r.data,i):o}else s=N(t.delay)?t.delay(e,r.data,i):t.delay;var u=N(t.to)?t.to(e,r.data,i):t.to;return v(v({},t),{to:u,_event:a,event:a.data,delay:s})}var pr=function(t,e,r){return v(v({},t),{value:A(t.expr)?t.expr:t.expr(e,r.data,{_event:r})})},yr=function(t){return{type:bt,sendId:t}};function gr(t){var e=st(t);return{type:I.Start,activity:e,exec:void 0}}function mr(t){var e=N(t)?t:st(t);return{type:I.Stop,activity:e,exec:void 0}}function Sr(t,e,r){var n=N(t.activity)?t.activity(e,r.data):t.activity,i=typeof n=="string"?{id:n}:n,a={type:I.Stop,activity:i};return a}var xr=function(t){return{type:it,assignment:t}};function br(t,e){var r=e?"#".concat(e):"";return"".concat(I.After,"(").concat(t,")").concat(r)}function Ee(t,e){var r="".concat(I.DoneState,".").concat(t),n={type:r,data:e};return n.toString=function(){return r},n}function Ae(t,e){var r="".concat(I.DoneInvoke,".").concat(t),n={type:r,data:e};return n.toString=function(){return r},n}function de(t,e){var r="".concat(I.ErrorPlatform,".").concat(t),n={type:r,data:e};return n.toString=function(){return r},n}var wr=function(t){var e,r,n=[];try{for(var i=E(t),a=i.next();!a.done;a=i.next())for(var s=a.value,o=0;o<s.actions.length;){if(s.actions[o].type===it){n.push(s.actions[o]),s.actions.splice(o,1);continue}o++}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n};function Ve(t,e,r,n,i,a,s){s===void 0&&(s=!1);var o=s?[]:wr(i),u=o.length?vt(r,n,o,e):r,l=s?[r]:void 0,f=[];function d(y,p){var x;switch(p.type){case xe:{var g=dr(p,u,n,t.options.delays);return a&&typeof g.delay=="number"&&a(g,u,n),g}case $e:var m=vr(p,u,n,t.options.delays);return a&&m.to!==ae.Internal&&(y==="entry"?f.push(m):a(m,u,n)),m;case wt:{var S=pr(p,u,n);return a==null||a(S,u,n),S}case Kt:{var w=p,_=(x=w.conds.find(function(be){var G=_t(be.cond,t.options.guards);return!G||jt(t,G,u,n,a?void 0:e)}))===null||x===void 0?void 0:x.actions;if(!_)return[];var D=O(Ve(t,e,u,n,[{type:y,actions:Y(z(_),t.options.actions)}],a,s),2),T=D[0],C=D[1];return u=C,l==null||l.push(u),T}case Zt:{var _=p.get(u,n.data);if(!_)return[];var P=O(Ve(t,e,u,n,[{type:y,actions:Y(z(_),t.options.actions)}],a,s),2),R=P[0],b=P[1];return u=b,l==null||l.push(u),R}case nt:{var S=Sr(p,u,n);return a==null||a(S,r,n),S}case it:{u=vt(u,n,[p],a?void 0:e),l==null||l.push(u);break}default:var j=ge(p,t.options.actions),$=j.exec;if(a)a(j,u,n);else if($&&l){var F=l.length-1,le=v(v({},j),{exec:function(be){for(var G=[],Q=1;Q<arguments.length;Q++)G[Q-1]=arguments[Q];$.apply(void 0,q([l[F]],O(G),!1))}});j=le}return j}}function c(y){var p,x,g=[];try{for(var m=E(y.actions),S=m.next();!S.done;S=m.next()){var w=S.value,_=d(y.type,w);_&&(g=g.concat(_))}}catch(D){p={error:D}}finally{try{S&&!S.done&&(x=m.return)&&x.call(m)}finally{if(p)throw p.error}}return f.forEach(function(D){a(D,u,n)}),f.length=0,g}var h=V(i.map(c));return[h,u]}var pt=[],re=function(t,e){pt.push(t);var r=e(t);return pt.pop(),r};function It(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[X]=function(){return this},e}function Pr(t,e,r,n){var i,a=At(t.src),s=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[a.type],o=t.data?qe(t.data,r,n):void 0,u=s?Ct(s,t.id,o):It(t.id);return u.meta=t,u}function Ct(t,e,r){var n=It(e);if(n.deferred=!0,se(t)){var i=n.state=re(void 0,function(){return(r?t.withContext(r):t).initialState});n.getSnapshot=function(){return i}}return n}function Er(t){try{return typeof t.send=="function"}catch{return!1}}function Or(t){return Er(t)&&"id"in t}function Tr(t){var e;return v((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[X]=function(){return this},e),t)}var Le=function(t){return t.type==="atomic"||t.type==="final"};function Dt(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function me(t){return Dt(t).filter(function(e){return e.type!=="history"})}function qt(t){var e=[t];return Le(t)?e:e.concat(V(me(t).map(qt)))}function he(t,e){var r,n,i,a,s,o,u,l,f=new Set(t),d=He(f),c=new Set(e);try{for(var h=E(c),y=h.next();!y.done;y=h.next())for(var p=y.value,x=p.parent;x&&!c.has(x);)c.add(x),x=x.parent}catch(P){r={error:P}}finally{try{y&&!y.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}var g=He(c);try{for(var m=E(c),S=m.next();!S.done;S=m.next()){var p=S.value;if(p.type==="compound"&&(!g.get(p)||!g.get(p).length))d.get(p)?d.get(p).forEach(function(R){return c.add(R)}):p.initialStateNodes.forEach(function(R){return c.add(R)});else if(p.type==="parallel")try{for(var w=(s=void 0,E(me(p))),_=w.next();!_.done;_=w.next()){var D=_.value;c.has(D)||(c.add(D),d.get(D)?d.get(D).forEach(function(R){return c.add(R)}):D.initialStateNodes.forEach(function(R){return c.add(R)}))}}catch(R){s={error:R}}finally{try{_&&!_.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}}}catch(P){i={error:P}}finally{try{S&&!S.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}try{for(var T=E(c),C=T.next();!C.done;C=T.next())for(var p=C.value,x=p.parent;x&&!c.has(x);)c.add(x),x=x.parent}catch(P){u={error:P}}finally{try{C&&!C.done&&(l=T.return)&&l.call(T)}finally{if(u)throw u.error}}return c}function Vt(t,e){var r=e.get(t);if(!r)return{};if(t.type==="compound"){var n=r[0];if(n){if(Le(n))return n.key}else return{}}var i={};return r.forEach(function(a){i[a.key]=Vt(a,e)}),i}function He(t){var e,r,n=new Map;try{for(var i=E(t),a=i.next();!a.done;a=i.next()){var s=a.value;n.has(s)||n.set(s,[]),s.parent&&(n.has(s.parent)||n.set(s.parent,[]),n.get(s.parent).push(s))}}catch(o){e={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}function Nr(t,e){var r=he([t],e);return Vt(t,He(r))}function ve(t,e){return Array.isArray(t)?t.some(function(r){return r===e}):t instanceof Set?t.has(e):!1}function _r(t){return q([],O(new Set(V(q([],O(t.map(function(e){return e.ownEvents})),!1)))),!1)}function Ie(t,e){return e.type==="compound"?me(e).some(function(r){return r.type==="final"&&ve(t,r)}):e.type==="parallel"?me(e).every(function(r){return Ie(t,r)}):!1}function jr(t){return t===void 0&&(t=[]),t.reduce(function(e,r){return r.meta!==void 0&&(e[r.id]=r.meta),e},{})}function yt(t){return new Set(V(t.map(function(e){return e.tags})))}function Lt(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(A(t)||A(e))return t===e;var r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(function(i){return Lt(t[i],e[i])})}function Ar(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function Ir(t,e){var r=t.exec,n=v(v({},t),{exec:r!==void 0?function(){return r(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return n}var B=function(){function t(e){var r=this,n;this.actions=[],this.activities=ct,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||ct,this.meta=jr(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(n=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&n!==void 0?n:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return _r(r.configuration)}})}return t.from=function(e,r){if(e instanceof t)return e.context!==r?new t({value:e.value,context:r,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var n=ie;return new t({value:e,context:r,_event:n,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,r){if(e instanceof t){if(!e.actions.length)return e;var n=ie;return new t({value:e.value,context:r,_event:n,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,r)},t.prototype.toStrings=function(e,r){var n=this;if(e===void 0&&(e=this.value),r===void 0&&(r="."),A(e))return[e];var i=Object.keys(e);return i.concat.apply(i,q([],O(i.map(function(a){return n.toStrings(e[a],r).map(function(s){return a+r+s})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var r=e.tags;e.machine;var n=rt(e,["configuration","transitions","tags","machine"]);return v(v({},n),{tags:Array.from(r)})},t.prototype.matches=function(e){return at(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var r;or(!!this.machine);var n=(r=this.machine)===null||r===void 0?void 0:r.getTransitionData(this,e);return!!(n!=null&&n.transitions.length)&&n.transitions.some(function(i){return i.target!==void 0||i.actions.length})},t}(),Cr={deferEvents:!1},gt=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=v(v({},Cr),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(r){throw this.clear(),r}finally{this.processingEvent=!1}},t}(),Ue=new Map,Dr=0,fe={bookId:function(){return"x:".concat(Dr++)},register:function(t,e){return Ue.set(t,e),t},get:function(t){return Ue.get(t)},free:function(t){Ue.delete(t)}};function ot(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function qr(){var t=ot();if(t&&"__xstate__"in t)return t.__xstate__}function Vr(t){if(ot()){var e=qr();e&&e.register(t)}}function Lr(t,e){e===void 0&&(e={});var r=t.initialState,n=new Set,i=[],a=!1,s=function(){if(!a){for(a=!0;i.length>0;){var l=i.shift();r=t.transition(r,l,u),n.forEach(function(f){return f.next(r)})}a=!1}},o=Tr({id:e.id,send:function(l){i.push(l),s()},getSnapshot:function(){return r},subscribe:function(l,f,d){var c=ye(l,f,d);return n.add(c),c.next(r),{unsubscribe:function(){n.delete(c)}}}}),u={parent:e.parent,self:o,id:e.id||"anonymous",observers:n};return r=t.start?t.start(u):r,o}var Rr={sync:!1,autoForward:!1},L;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(L||(L={}));var kr=function(){function t(e,r){r===void 0&&(r=t.defaultOptions);var n=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=L.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(f,d){if(ue(f))return n.batch(f),n.state;var c=k(Fe(f,d));if(n.status===L.Stopped)return n.state;if(n.status!==L.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(c.name,'" was sent to uninitialized service "').concat(n.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(c.data)));return n.scheduler.schedule(function(){n.forward(c);var h=n._nextState(c);n.update(h,c)}),n._state},this.sendTo=function(f,d,c){var h=n.parent&&(d===ae.Parent||n.parent.id===d),y=h?n.parent:A(d)?d===ae.Internal?n:n.children.get(d)||fe.get(d):lr(d)?d:void 0;if(!y){if(!h)throw new Error("Unable to send event to child '".concat(d,"' from service '").concat(n.id,"'."));return}if("machine"in y){if(n.status!==L.Stopped||n.parent!==y||n.state.done){var p=v(v({},f),{name:f.name===Qt?"".concat(de(n.id)):f.name,origin:n.sessionId});!c&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([y,p]):y.send(p)}}else!c&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([y,f.data]):y.send(f.data)},this._exec=function(f,d,c,h){h===void 0&&(h=n.machine.options.actions);var y=f.exec||Ze(f.type,h),p=N(y)?y:y?y.exec:f.exec;if(p)try{return p(d,c.data,n.machine.config.predictableActionArguments?{action:f,_event:c}:{action:f,state:n.state,_event:c})}catch(F){throw n.parent&&n.parent.send({type:"xstate.error",data:F}),F}switch(f.type){case xe:{var x=f;n.defer(x);break}case $e:var g=f;if(typeof g.delay=="number"){n.defer(g);return}else g.to?n.sendTo(g._event,g.to,c===ie):n.send(g._event);break;case bt:n.cancel(f.sendId);break;case We:{if(n.status!==L.Running)return;var m=f.activity;if(!n.machine.config.predictableActionArguments&&!n.state.activities[m.id||m.type])break;if(m.type===I.Invoke){var S=At(m.src),w=n.machine.options.services?n.machine.options.services[S.type]:void 0,_=m.id,D=m.data,T="autoForward"in m?m.autoForward:!!m.forward;if(!w)return;var C=D?qe(D,d,c):void 0;if(typeof w=="string")return;var P=N(w)?w(d,c.data,{data:C,src:S,meta:m.meta}):w;if(!P)return;var R=void 0;se(P)&&(P=C?P.withContext(C):P,R={autoForward:T}),n.spawn(P,_,R)}else n.spawnActivity(m);break}case nt:{n.stopChild(f.activity.id);break}case wt:var b=f,j=b.label,$=b.value;j?n.logger(j,$):n.logger($);break}};var i=v(v({},t.defaultOptions),r),a=i.clock,s=i.logger,o=i.parent,u=i.id,l=u!==void 0?u:e.id;this.id=l,this.logger=s,this.clock=a,this.parent=o,this.options=i,this.scheduler=new gt({deferEvents:this.options.deferEvents}),this.sessionId=fe.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:re(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,r){var n,i;try{for(var a=E(e.actions),s=a.next();!s.done;s=a.next()){var o=s.value;this.exec(o,e,r)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.update=function(e,r){var n,i,a,s,o,u,l,f,d=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||r===ie)&&this.options.execute)this.execute(this.state);else for(var c=void 0;c=this._outgoingQueue.shift();)c[0].send(c[1]);if(this.children.forEach(function(P){d.state.children[P.id]=P}),this.devTools&&this.devTools.send(r.data,e),e.event)try{for(var h=E(this.eventListeners),y=h.next();!y.done;y=h.next()){var p=y.value;p(e.event)}}catch(P){n={error:P}}finally{try{y&&!y.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}try{for(var x=E(this.listeners),g=x.next();!g.done;g=x.next()){var p=g.value;p(e,e.event)}}catch(P){a={error:P}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}try{for(var m=E(this.contextListeners),S=m.next();!S.done;S=m.next()){var w=S.value;w(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(P){o={error:P}}finally{try{S&&!S.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}if(this.state.done){var _=e.configuration.find(function(P){return P.type==="final"&&P.parent===d.machine}),D=_&&_.doneData?qe(_.doneData,e.context,r):void 0;this._doneEvent=Ae(this.id,D);try{for(var T=E(this.doneListeners),C=T.next();!C.done;C=T.next()){var p=C.value;p(this._doneEvent)}}catch(P){l={error:P}}finally{try{C&&!C.done&&(f=T.return)&&f.call(T)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),fe.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===L.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,r,n){var i=this,a=ye(e,r,n);this.listeners.add(a.next),this.status!==L.NotStarted&&a.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),a.complete()};return this.status===L.Stopped?a.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(a.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===L.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var r=this;if(this.status===L.Running)return this;this.machine._init(),fe.register(this.sessionId,this),this.initialized=!0,this.status=L.Running;var n=e===void 0?this.initialState:re(this,function(){return Ar(e)?r.machine.resolveState(e):r.machine.resolveState(B.from(e,r.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){r.update(n,ie)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){N(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,r,n,i,a,s,o,u,l,f;try{for(var d=E(this.listeners),c=d.next();!c.done;c=d.next()){var h=c.value;this.listeners.delete(h)}}catch(T){e={error:T}}finally{try{c&&!c.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}try{for(var y=E(this.stopListeners),p=y.next();!p.done;p=y.next()){var h=p.value;h(),this.stopListeners.delete(h)}}catch(T){n={error:T}}finally{try{p&&!p.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}try{for(var x=E(this.contextListeners),g=x.next();!g.done;g=x.next()){var h=g.value;this.contextListeners.delete(h)}}catch(T){a={error:T}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}try{for(var m=E(this.doneListeners),S=m.next();!S.done;S=m.next()){var h=S.value;this.doneListeners.delete(h)}}catch(T){o={error:T}}finally{try{S&&!S.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}if(!this.initialized)return this;this.initialized=!1,this.status=L.Stopped,this._initialState=void 0;try{for(var w=E(Object.keys(this.delayedEventsMap)),_=w.next();!_.done;_=w.next()){var D=_.value;this.clock.clearTimeout(this.delayedEventsMap[D])}}catch(T){l={error:T}}finally{try{_&&!_.done&&(f=w.return)&&f.call(w)}finally{if(l)throw l.error}}this.scheduler.clear(),this.scheduler=new gt({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,r=this.scheduler;return this._stop(),r.schedule(function(){var n=k({type:"xstate.stop"}),i=re(e,function(){var a=V(q([],O(e.state.configuration),!1).sort(function(f,d){return d.order-f.order}).map(function(f){return Y(f.onExit,e.machine.options.actions)})),s=O(Ve(e.machine,e.state,e.state.context,n,[{type:"exit",actions:a}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),o=s[0],u=s[1],l=new B({value:e.state.value,context:u,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:o.filter(function(f){return!Ke(f)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return l.changed=!0,l});e.update(i,n),e._stopChildren(),fe.free(e.sessionId)}),this},t.prototype.batch=function(e){var r=this;if(!(this.status===L.NotStarted&&this.options.deferEvents)){if(this.status!==L.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,a,s=r.state,o=!1,u=[],l=function(h){var y=k(h);r.forward(y),s=re(r,function(){return r.machine.transition(s,y,void 0,n||void 0)}),u.push.apply(u,q([],O(r.machine.config.predictableActionArguments?s.actions:s.actions.map(function(p){return Ir(p,s)})),!1)),o=o||!!s.changed};try{for(var f=E(e),d=f.next();!d.done;d=f.next()){var c=d.value;l(c)}}catch(h){i={error:h}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}s.changed=o,s.actions=u,r.update(s,k(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,r){var n=this;r===void 0&&(r=!!this.machine.config.predictableActionArguments&&this._exec);var i=k(e);if(i.name.indexOf(ft)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(ft)===0}))throw i.data.data;var a=re(this,function(){return n.machine.transition(n.state,i,void 0,r||void 0)});return a},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var r,n;try{for(var i=E(this.forwardTo),a=i.next();!a.done;a=i.next()){var s=a.value,o=this.children.get(s);if(!o)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));o.send(e)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.defer=function(e){var r=this,n=this.clock.setTimeout(function(){"to"in e&&e.to?r.sendTo(e._event,e.to,!0):r.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,r,n){n===void 0&&(n=this.machine.options.actions),this._exec(e,r.context,r._event,n)},t.prototype.removeChild=function(e){var r;this.children.delete(e),this.forwardTo.delete(e),(r=this.state)===null||r===void 0||delete r.children[e]},t.prototype.stopChild=function(e){var r=this.children.get(e);r&&(this.removeChild(e),N(r.stop)&&r.stop())},t.prototype.spawn=function(e,r,n){if(this.status!==L.Running)return Ct(e,r);if(ht(e))return this.spawnPromise(Promise.resolve(e),r);if(N(e))return this.spawnCallback(e,r);if(Or(e))return this.spawnActor(e,r);if(ur(e))return this.spawnObservable(e,r);if(se(e))return this.spawnMachine(e,v(v({},n),{id:r}));if(ir(e))return this.spawnBehavior(e,r);throw new Error('Unable to spawn entity "'.concat(r,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,r){var n=this;r===void 0&&(r={});var i=new t(e,v(v({},this.options),{parent:this,id:r.id||e.id})),a=v(v({},Rr),r);a.sync&&i.onTransition(function(o){n.send(Pt,{state:o,id:i.id})});var s=i;return this.children.set(i.id,s),a.autoForward&&this.forwardTo.add(i.id),i.onDone(function(o){n.removeChild(i.id),n.send(k(o,{origin:i.id}))}).start(),s},t.prototype.spawnBehavior=function(e,r){var n=Lr(e,{id:r,parent:this});return this.children.set(r,n),n},t.prototype.spawnPromise=function(e,r){var n,i=this,a=!1,s;e.then(function(u){a||(s=u,i.removeChild(r),i.send(k(Ae(r,u),{origin:r})))},function(u){if(!a){i.removeChild(r);var l=de(r,u);try{i.send(k(l,{origin:r}))}catch{i.devTools&&i.devTools.send(l,i.state),i.machine.strict&&i.stop()}}});var o=(n={id:r,send:function(){},subscribe:function(u,l,f){var d=ye(u,l,f),c=!1;return e.then(function(h){c||(d.next(h),!c&&d.complete())},function(h){c||d.error(h)}),{unsubscribe:function(){return c=!0}}},stop:function(){a=!0},toJSON:function(){return{id:r}},getSnapshot:function(){return s}},n[X]=function(){return this},n);return this.children.set(r,o),o},t.prototype.spawnCallback=function(e,r){var n,i=this,a=!1,s=new Set,o=new Set,u,l=function(c){u=c,o.forEach(function(h){return h(c)}),!a&&i.send(k(c,{origin:r}))},f;try{f=e(l,function(c){s.add(c)})}catch(c){this.send(de(r,c))}if(ht(f))return this.spawnPromise(f,r);var d=(n={id:r,send:function(c){return s.forEach(function(h){return h(c)})},subscribe:function(c){var h=ye(c);return o.add(h.next),{unsubscribe:function(){o.delete(h.next)}}},stop:function(){a=!0,N(f)&&f()},toJSON:function(){return{id:r}},getSnapshot:function(){return u}},n[X]=function(){return this},n);return this.children.set(r,d),d},t.prototype.spawnObservable=function(e,r){var n,i=this,a,s=e.subscribe(function(u){a=u,i.send(k(u,{origin:r}))},function(u){i.removeChild(r),i.send(k(de(r,u),{origin:r}))},function(){i.removeChild(r),i.send(k(Ae(r),{origin:r}))}),o=(n={id:r,send:function(){},subscribe:function(u,l,f){return e.subscribe(u,l,f)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return a},toJSON:function(){return{id:r}}},n[X]=function(){return this},n);return this.children.set(r,o),o},t.prototype.spawnActor=function(e,r){return this.children.set(r,e),e},t.prototype.spawnActivity=function(e){var r=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(r){var n=r(this.state.context,e);this.spawnEffect(e.id,n)}},t.prototype.spawnEffect=function(e,r){var n;this.children.set(e,(n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:r||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},n[X]=function(){return this},n))},t.prototype.attachDev=function(){var e=ot();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var r=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(v(v({name:this.id,autoPause:!0,stateSanitizer:function(n){return{value:n.value,context:n.context,actions:n.actions}}},r),{features:v({jump:!1,skip:!1},r?r.features:void 0)}),this.machine),this.devTools.init(this.state)}Vr(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[X]=function(){return this},t.prototype.getSnapshot=function(){return this.status===L.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,r){return setTimeout(e,r)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=Rt,t}();function Rt(t,e){var r=new kr(t,e);return r}function $r(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function Oe(t){return v(v({type:Xe},t),{toJSON:function(){t.onDone,t.onError;var e=rt(t,["onDone","onError"]);return v(v({},e),{type:Xe,src:$r(t.src)})}})}var Te="",et="#",Me="*",ee={},te=function(t){return t[0]===et},Fr=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Ur=function(){function t(e,r,n,i){n===void 0&&(n="context"in e?e.context:void 0);var a=this,s;this.config=e,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Fr(),r),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Et),this.id=this.config.id||q([this.machine.key],O(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?ce(this.config.states,function(l,f){var d,c=new t(l,{},void 0,{parent:a,key:f});return Object.assign(a.idMap,v((d={},d[c.id]=c,d),c.idMap)),c}):ee;var o=0;function u(l){var f,d;l.order=o++;try{for(var c=E(Dt(l)),h=c.next();!h.done;h=c.next()){var y=h.value;u(y)}}catch(p){f={error:p}}finally{try{h&&!h.done&&(d=c.return)&&d.call(c)}finally{if(f)throw f.error}}}u(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(l){var f=l.event;return f===Te}):Te in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=z(this.config.entry||this.config.onEntry).map(function(l){return ge(l)}),this.onExit=z(this.config.exit||this.config.onExit).map(function(l){return ge(l)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=z(this.config.invoke).map(function(l,f){var d,c;if(se(l)){var h=Pe(a.id,f);return a.machine.options.services=v((d={},d[h]=l,d),a.machine.options.services),Oe({src:h,id:h})}else if(A(l.src)){var h=l.id||Pe(a.id,f);return Oe(v(v({},l),{id:h,src:l.src}))}else if(se(l.src)||N(l.src)){var h=l.id||Pe(a.id,f);return a.machine.options.services=v((c={},c[h]=l.src,c),a.machine.options.services),Oe(v(v({id:h},l),{src:h}))}else{var y=l.src;return Oe(v(v({id:Pe(a.id,f)},l),{src:y}))}}),this.activities=z(this.config.activities).concat(this.invoke).map(function(l){return st(l)}),this.transition=this.transition.bind(this),this.tags=z(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||qt(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,r){var n=this.options,i=n.actions,a=n.activities,s=n.guards,o=n.services,u=n.delays;return new t(this.config,{actions:v(v({},i),e.actions),activities:v(v({},a),e.activities),guards:v(v({},s),e.guards),services:v(v({},o),e.services),delays:v(v({},u),e.delays)},r??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return N(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:ce(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(r,n){return r[n.eventType]=r[n.eventType]||[],r[n.eventType].push(n),r},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var r=e===Te,n=this.transitions.filter(function(i){var a=i.eventType===e;return r?a:a||i.eventType===Me});return this.__cache.candidates[e]=n,n},t.prototype.getDelayedTransitions=function(){var e=this,r=this.config.after;if(!r)return[];var n=function(a,s){var o=N(a)?"".concat(e.id,":delay[").concat(s,"]"):a,u=br(o,e.id);return e.onEntry.push(hr(u,{delay:a})),e.onExit.push(yr(u)),u},i=ue(r)?r.map(function(a,s){var o=n(a.delay,s);return v(v({},a),{event:o})}):V(Object.keys(r).map(function(a,s){var o=r[a],u=A(o)?{target:o}:o,l=isNaN(+a)?a:+a,f=n(l,s);return z(u).map(function(d){return v(v({},d),{event:f,delay:l})})}));return i.map(function(a){var s=a.delay;return v(v({},e.formatTransition(a)),{delay:s})})},t.prototype.getStateNodes=function(e){var r,n=this;if(!e)return[];var i=e instanceof B?e.value:pe(e,this.delimiter);if(A(i)){var a=this.getStateNode(i).initial;return a!==void 0?this.getStateNodes((r={},r[i]=a,r)):[this,this.states[i]]}var s=Object.keys(i),o=[this];return o.push.apply(o,q([],O(V(s.map(function(u){return n.getStateNode(u).getStateNodes(i[u])}))),!1)),o},t.prototype.handles=function(e){var r=Ot(e);return this.events.includes(r)},t.prototype.resolveState=function(e){var r=e instanceof B?e:B.create(e),n=Array.from(he([],this.getStateNodes(r.value)));return new B(v(v({},r),{value:this.resolve(r.value),configuration:n,done:Ie(n,this),tags:yt(n),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,r,n){var i=this.getStateNode(e),a=i.next(r,n);return!a||!a.transitions.length?this.next(r,n):a},t.prototype.transitionCompoundNode=function(e,r,n){var i=Object.keys(e),a=this.getStateNode(i[0]),s=a._transition(e[i[0]],r,n);return!s||!s.transitions.length?this.next(r,n):s},t.prototype.transitionParallelNode=function(e,r,n){var i,a,s={};try{for(var o=E(Object.keys(e)),u=o.next();!u.done;u=o.next()){var l=u.value,f=e[l];if(f){var d=this.getStateNode(l),c=d._transition(f,r,n);c&&(s[l]=c)}}}catch(g){i={error:g}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}var h=Object.keys(s).map(function(g){return s[g]}),y=V(h.map(function(g){return g.transitions})),p=h.some(function(g){return g.transitions.length>0});if(!p)return this.next(r,n);var x=V(Object.keys(s).map(function(g){return s[g].configuration}));return{transitions:y,exitSet:V(h.map(function(g){return g.exitSet})),configuration:x,source:r,actions:V(Object.keys(s).map(function(g){return s[g].actions}))}},t.prototype._transition=function(e,r,n){return A(e)?this.transitionLeafNode(e,r,n):Object.keys(e).length===1?this.transitionCompoundNode(e,r,n):this.transitionParallelNode(e,r,n)},t.prototype.getTransitionData=function(e,r){return this._transition(e.value,e,k(r))},t.prototype.next=function(e,r){var n,i,a=this,s=r.name,o=[],u=[],l;try{for(var f=E(this.getCandidates(s)),d=f.next();!d.done;d=f.next()){var c=d.value,h=c.cond,y=c.in,p=e.context,x=y?A(y)&&te(y)?e.matches(pe(this.getStateNodeById(y).path,this.delimiter)):at(pe(y,this.delimiter),tr(this.path.slice(0,-2))(e.value)):!0,g=!1;try{g=!h||jt(this.machine,h,p,r,e)}catch(w){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(w.message))}if(g&&x){c.target!==void 0&&(u=c.target),o.push.apply(o,q([],O(c.actions),!1)),l=c;break}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}if(l){if(!u.length)return{transitions:[l],exitSet:[],configuration:e.value?[this]:[],source:e,actions:o};var m=V(u.map(function(w){return a.getRelativeStateNodes(w,e.historyValue)})),S=!!l.internal;return{transitions:[l],exitSet:S?[]:V(u.map(function(w){return a.getPotentiallyReenteringNodes(w)})),configuration:m,source:e,actions:o}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var r=[],n=this,i=e;n&&n!==i;)r.push(n),n=n.parent;return n!==i?[]:(r.push(i),r)},t.prototype.getActions=function(e,r,n,i,a,s,o){var u,l,f,d,c=this,h=s?he([],this.getStateNodes(s.value)):[],y=new Set;try{for(var p=E(Array.from(e).sort(function(b,j){return b.order-j.order})),x=p.next();!x.done;x=p.next()){var g=x.value;(!ve(h,g)||ve(n.exitSet,g)||g.parent&&y.has(g.parent))&&y.add(g)}}catch(b){u={error:b}}finally{try{x&&!x.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}try{for(var m=E(h),S=m.next();!S.done;S=m.next()){var g=S.value;(!ve(e,g)||ve(n.exitSet,g.parent))&&n.exitSet.push(g)}}catch(b){f={error:b}}finally{try{S&&!S.done&&(d=m.return)&&d.call(m)}finally{if(f)throw f.error}}n.exitSet.sort(function(b,j){return j.order-b.order});var w=Array.from(y).sort(function(b,j){return b.order-j.order}),_=new Set(n.exitSet),D=V(w.map(function(b){var j=[];if(b.type!=="final")return j;var $=b.parent;if(!$.parent)return j;j.push(Ee(b.id,b.doneData),Ee($.id,b.doneData?qe(b.doneData,i,a):void 0));var F=$.parent;return F.type==="parallel"&&me(F).every(function(le){return Ie(n.configuration,le)})&&j.push(Ee(F.id)),j})),T=w.map(function(b){var j=b.onEntry,$=b.activities.map(function(F){return gr(F)});return{type:"entry",actions:Y(o?q(q([],O(j),!1),O($),!1):q(q([],O($),!1),O(j),!1),c.machine.options.actions)}}).concat({type:"state_done",actions:D.map(function(b){return cr(b)})}),C=Array.from(_).map(function(b){return{type:"exit",actions:Y(q(q([],O(b.onExit),!1),O(b.activities.map(function(j){return mr(j)})),!1),c.machine.options.actions)}}),P=C.concat({type:"transition",actions:Y(n.actions,this.machine.options.actions)}).concat(T);if(r){var R=Y(V(q([],O(e),!1).sort(function(b,j){return j.order-b.order}).map(function(b){return b.onExit})),this.machine.options.actions).filter(function(b){return!Ke(b)});return P.concat({type:"stop",actions:R})}return P},t.prototype.transition=function(e,r,n,i){e===void 0&&(e=this.initialState);var a=k(r),s;if(e instanceof B)s=n===void 0?e:this.resolveState(B.from(e,n));else{var o=A(e)?this.resolve(De(this.getResolvedPath(e))):this.resolve(e),u=n??this.machine.context;s=this.resolveState(B.from(o,u))}if(this.strict&&!this.events.includes(a.name)&&!nr(a.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var l=this._transition(s.value,s,a)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},f=he([],this.getStateNodes(s.value)),d=l.configuration.length?he(f,l.configuration):f;return l.configuration=q([],O(d),!1),this.resolveTransition(l,s,s.context,i,a)},t.prototype.resolveRaisedTransition=function(e,r,n,i){var a,s=e.actions;return e=this.transition(e,r,void 0,i),e._event=n,e.event=n.data,(a=e.actions).unshift.apply(a,q([],O(s),!1)),e},t.prototype.resolveTransition=function(e,r,n,i,a){var s,o,u,l,f=this;a===void 0&&(a=ie);var d=e.configuration,c=!r||e.transitions.length>0,h=c?e.configuration:r?r.configuration:[],y=Ie(h,this),p=c?Nr(this.machine,d):void 0,x=r?r.historyValue?r.historyValue:e.source?this.machine.historyValue(r.value):void 0:void 0,g=this.getActions(new Set(h),y,e,n,a,r,i),m=r?v({},r.activities):{};try{for(var S=E(g),w=S.next();!w.done;w=S.next()){var _=w.value;try{for(var D=(u=void 0,E(_.actions)),T=D.next();!T.done;T=D.next()){var C=T.value;C.type===We?m[C.activity.id||C.activity.type]=C:C.type===nt&&(m[C.activity.id||C.activity.type]=!1)}}catch(M){u={error:M}}finally{try{T&&!T.done&&(l=D.return)&&l.call(D)}finally{if(u)throw u.error}}}}catch(M){s={error:M}}finally{try{w&&!w.done&&(o=S.return)&&o.call(S)}finally{if(s)throw s.error}}var P=O(Ve(this,r,n,a,g,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),R=P[0],b=P[1],j=O(ar(R,Ke),2),$=j[0],F=j[1],le=R.filter(function(M){var Z;return M.type===We&&((Z=M.activity)===null||Z===void 0?void 0:Z.type)===Xe}),be=le.reduce(function(M,Z){return M[Z.activity.id]=Pr(Z.activity,f.machine,b,a),M},r?v({},r.children):{}),G=new B({value:p||r.value,context:b,_event:a,_sessionid:r?r._sessionid:null,historyValue:p?x?sr(x,p):void 0:r?r.historyValue:void 0,history:!p||e.source?r:void 0,actions:p?F:[],activities:p?m:r?r.activities:{},events:[],configuration:h,transitions:e.transitions,children:be,done:y,tags:yt(h),machine:this}),Q=n!==b;G.changed=a.name===Pt||Q;var K=G.history;K&&delete K.history;var lt=!y&&(this._transient||d.some(function(M){return M._transient}));if(!c&&(!lt||a.name===Te))return G;var U=G;if(!y)for(lt&&(U=this.resolveRaisedTransition(U,{type:Xt},a,i));$.length;){var $t=$.shift();U=this.resolveRaisedTransition(U,$t._event,a,i)}var Ft=U.changed||(K?!!U.actions.length||Q||typeof K.value!=typeof U.value||!Lt(U.value,K.value):void 0);return U.changed=Ft,U.history=K,U},t.prototype.getStateNode=function(e){if(te(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var r=this.states[e];if(!r)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return r},t.prototype.getStateNodeById=function(e){var r=te(e)?e.slice(et.length):e;if(r===this.id)return this;var n=this.machine.idMap[r];if(!n)throw new Error("Child state node '#".concat(r,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&te(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var r=Qe(e,this.delimiter).slice(),n=this;r.length;){var i=r.shift();if(!i.length)break;n=n.getStateNode(i)}return n},t.prototype.resolve=function(e){var r,n=this;if(!e)return this.initialStateValue||ee;switch(this.type){case"parallel":return ce(this.initialStateValue,function(a,s){return a?n.getStateNode(s).resolve(e[s]||a):ee});case"compound":if(A(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(r={},r[e]=i.initialStateValue,r):e}return Object.keys(e).length?ce(e,function(a,s){return a?n.getStateNode(s).resolve(a):ee}):this.initialStateValue||{};default:return e||ee}},t.prototype.getResolvedPath=function(e){if(te(e)){var r=this.machine.idMap[e.slice(et.length)];if(!r)throw new Error("Unable to find state node '".concat(e,"'"));return r.path}return Qe(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var r;if(this.type==="parallel")r=dt(this.states,function(n){return n.initialStateValue||ee},function(n){return n.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));r=Le(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else r={};return this.__cache.initialStateValue=r,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,r){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,r??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var r=this.config;A(r.target)?e=te(r.target)?De(this.machine.getStateNodeById(r.target).path.slice(this.path.length-1)):r.target:e=r.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,r,n){return n===void 0&&(n=!0),n?e.type==="history"?e.resolveHistory(r):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(Le(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var r=je(this.initialStateValue);return V(r.map(function(n){return e.getFromRelativePath(n)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var r=O(e),n=r[0],i=r.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var a=this.getStateNode(n);if(a.type==="history")return a.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:dt(this.states,function(r,n){if(!e)return r.historyValue();var i=A(e)?void 0:e[n];return r.historyValue(i||r.initialStateValue)},function(r){return!r.history})}},t.prototype.resolveHistory=function(e){var r=this;if(this.type!=="history")return[this];var n=this.parent;if(!e){var i=this.target;return i?V(je(i).map(function(s){return n.getFromRelativePath(s)})):n.initialStateNodes}var a=rr(n.path,"states")(e).current;return A(a)?[n.getStateNode(a)]:V(je(a).map(function(s){return r.history==="deep"?n.getFromRelativePath(s):[n.states[s[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,r=V(Object.keys(this.states).map(function(n){return e.states[n].stateIds}));return[this.id].concat(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,r,n,i;if(this.__cache.events)return this.__cache.events;var a=this.states,s=new Set(this.ownEvents);if(a)try{for(var o=E(Object.keys(a)),u=o.next();!u.done;u=o.next()){var l=u.value,f=a[l];if(f.states)try{for(var d=(n=void 0,E(f.events)),c=d.next();!c.done;c=d.next()){var h=c.value;s.add("".concat(h))}}catch(y){n={error:y}}finally{try{c&&!c.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}}catch(y){e={error:y}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(r){return!(!r.target&&!r.actions.length&&r.internal)}).map(function(r){return r.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var r=this;if(e!==void 0)return e.map(function(n){if(!A(n))return n;var i=n[0]===r.delimiter;if(i&&!r.parent)return r.getStateNodeByPath(n.slice(1));var a=i?r.key+n:n;if(r.parent)try{var s=r.parent.getStateNodeByPath(a);return s}catch(o){throw new Error("Invalid transition definition for state node '".concat(r.id,`':
`).concat(o.message))}else return r.getStateNodeByPath(a)})},t.prototype.formatTransition=function(e){var r=this,n=fr(e.target),i="internal"in e?e.internal:n?n.some(function(u){return A(u)&&u[0]===r.delimiter}):!0,a=this.machine.options.guards,s=this.resolveTarget(n),o=v(v({},e),{actions:Y(z(e.actions)),cond:_t(e.cond,a),target:s,source:this,internal:i,eventType:e.event,toJSON:function(){return v(v({},o),{target:o.target?o.target.map(function(u){return"#".concat(u.id)}):void 0,source:"#".concat(r.id)})}});return o},t.prototype.formatTransitions=function(){var e,r,n=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var a=this.config.on,s=Me,o=a[s],u=o===void 0?[]:o,l=rt(a,[typeof s=="symbol"?s:s+""]);i=V(Object.keys(l).map(function(m){var S=H(m,l[m]);return S}).concat(H(Me,u)))}var f=this.config.always?H("",this.config.always):[],d=this.config.onDone?H(String(Ee(this.id)),this.config.onDone):[],c=V(this.invoke.map(function(m){var S=[];return m.onDone&&S.push.apply(S,q([],O(H(String(Ae(m.id)),m.onDone)),!1)),m.onError&&S.push.apply(S,q([],O(H(String(de(m.id)),m.onError)),!1)),S})),h=this.after,y=V(q(q(q(q([],O(d),!1),O(c),!1),O(i),!1),O(f),!1).map(function(m){return z(m).map(function(S){return n.formatTransition(S)})}));try{for(var p=E(h),x=p.next();!x.done;x=p.next()){var g=x.value;y.push(g)}}catch(m){e={error:m}}finally{try{x&&!x.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}return y},t}();function Mr(t,e){return new Ur(t,e)}var Ne=xr,zr=W.useLayoutEffect;function mt(t){var e=W.useRef();return e.current||(e.current={v:t()}),e.current.v}var Re=globalThis&&globalThis.__assign||function(){return Re=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Re.apply(this,arguments)},Br=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Gr=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a};function Jr(t,e){var r=mt(function(){return typeof t=="function"?t():t}),n=e.context,i=e.guards,a=e.actions,s=e.activities,o=e.services,u=e.delays;e.state;var l=Br(e,["context","guards","actions","activities","services","delays","state"]),f=mt(function(){var d={context:n,guards:i,actions:a,activities:s,services:o,delays:u},c=r.withConfig(d,function(){return Re(Re({},r.context),n)});return Rt(c,l)});return zr(function(){Object.assign(f.machine.options.actions,a),Object.assign(f.machine.options.guards,i),Object.assign(f.machine.options.activities,s),Object.assign(f.machine.options.services,o),Object.assign(f.machine.options.delays,u)},[a,i,s,o,u]),f}function Wr(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Gr(e,2),i=n[0],a=i===void 0?{}:i,s=n[1],o=Jr(t,a);return W.useEffect(function(){if(s){var u=o.subscribe(ye(s));return function(){u.unsubscribe()}}},[s]),W.useEffect(function(){var u=a.state;return o.start(u?B.create(u):void 0),function(){o.stop(),o.status=L.NotStarted}},[]),o}globalThis&&globalThis.__read;globalThis&&globalThis.__values;function Xr(t){return t.status!==0?t.getSnapshot():t.machine.initialState}function Yr(t){return"state"in t&&"machine"in t}function vn(t,e,r){if(t.status===L.NotStarted)return!0;var n=r.changed===void 0&&(Object.keys(r.children).length>0||typeof e.changed=="boolean");return!(r.changed||n)}function Qr(t){return"state"in t}var Kr=function(t,e){return t===e},Zr=function(t,e){if(Yr(t)){if(t.status===0&&e.current)return e.current;var r=Xr(t);return e.current=t.status===0?r:null,r}return Qr(t)?t.state:void 0};function Hr(t,e,r,n){r===void 0&&(r=Kr);var i=W.useRef(null),a=W.useCallback(function(u){var l=t.subscribe(u).unsubscribe;return l},[t]),s=W.useCallback(function(){return n?n(t):Zr(t,i)},[t,n]),o=Ut.useSyncExternalStoreWithSelector(a,s,s,e,r);return o}const _e=-1,ne=2;function en(t,e){const{pagesCount:r,currentPage:n,pagesToDisplay:i=5}=e;let a=[];const s=i-ne*ne,o=t.indexOf(n);return i===6&&n>=4&&n<r-3?(a=[...t.slice(o,o+2)],a):(i!==6&&n>ne&&n<r-ne&&(a=[...t.slice(o-1,o+s-1)]),a[a.length-2]>=r-1?[]:a)}function tn(t){const{pagesCount:e,currentPage:r,pagesToDisplay:n=5}=t,i=[...Array(e)].map((f,d)=>d+1);let a=n;if(a<6)throw new Error("pagesToDisplay must be greater than 5");if(a>e&&(a=e),e===a)return i;const s=i.slice(0,a-ne),o=i.slice(-(a-ne)),u=en(i,t),l=r<Math.ceil(e/2);return u.some(f=>f===r)?[1,_e,...u,_e-1,e]:l?[...s,_e,e]:[1,_e,...o]}const rn=Mr({predictableActionArguments:!0,tsTypes:{},schema:{context:{},events:{}},id:"(machine)",initial:"generatePages",states:{idle:{on:{GOTO:{target:"generatePages",actions:["goToPage"]},NEXT:{target:"generatePages",actions:["nextPage"]},PREV:{target:"generatePages",actions:["prevPage"]}}},generatePages:{entry:["generatePages","onPageChange"],always:"idle"}}},{actions:{goToPage:Ne({currentPage:(t,e)=>e.input}),nextPage:Ne({currentPage:({currentPage:t=1,pagesCount:e})=>t>=e?1:t+1}),prevPage:Ne({currentPage:t=>{const e=t.currentPage||1;return e===1?100:e-1}}),generatePages:Ne({pages:t=>tn({...t,currentPage:t.currentPage||1})})}}),nn={context(t){return t.context}};function tt(t){const e=Wr(()=>{var s;return rn.withContext({pagesCount:t.pagesCount,pagesToDisplay:t.pagesToDisplay,currentPage:((s=t.initialState)==null?void 0:s.currentPage)??1}).withConfig({actions:{onPageChange:o=>{var u;(u=t.onPageChange)==null||u.call(t,o.currentPage)}}})}),r=Hr(e,nn.context);function n(){e.send({type:"NEXT"})}function i(){e.send({type:"PREV"})}function a(s){e.send({type:"GOTO",input:s})}return{...r,next:n,prev:i,goTo:a}}try{tt.displayName="usePagination",tt.__docgenInfo={description:"Hook to used inside the <Pagiation> component to handle paginatioMachie logic.",displayName:"usePagination",props:{pagesCount:{defaultValue:null,description:"",name:"pagesCount",required:!0,type:{name:"number"}},pagesToDisplay:{defaultValue:null,description:"",name:"pagesToDisplay",required:!1,type:{name:"number"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!1,type:{name:"((page: number) => void)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"{ currentPage?: number; }"}}}}}catch{}const kt=W.createContext({});function ut(){return W.useContext(kt)}const Se=oe(({children:t,className:e,as:r,variant:n="outlined",color:i,size:a="sm",pagesCount:s,pagesToDisplay:o=6,onPageChange:u,initialState:l,autoFocus:f,...d})=>{const c=ke("fuel_Pagination",e),h=tt({pagesCount:s,pagesToDisplay:o,onPageChange:u,initialState:l});return J(kt.Provider,{value:{...h,variant:n,color:i,size:a,autoFocus:f},children:J(Mt.ArrowNavigator,{restoreFocus:!0,children:J(xt,{...d,direction:"row",as:r,className:c,children:t})})})});Se.Items=Be;Se.Next=Ge;Se.Prev=Je;try{Se.displayName="Pagination",Se.__docgenInfo={description:"Pagination component.",displayName:"Pagination",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"any"}},css:{defaultValue:null,description:"",name:"css",required:!1,type:{name:"ThemeUtilsCSS"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},align:{defaultValue:null,description:"Shorthand for `alignItems` style prop",name:"align",required:!1,type:{name:'SystemProps["alignItems"]'}},basis:{defaultValue:null,description:"Shorthand for `flexBasis` style prop",name:"basis",required:!1,type:{name:'SystemProps["flexBasis"]'}},direction:{defaultValue:null,description:"Shorthand for `flexDirection` style prop",name:"direction",required:!1,type:{name:'SystemProps["flexDirection"]'}},gap:{defaultValue:null,description:"Shorthand for `gap` style prop",name:"gap",required:!1,type:{name:'SystemProps["gap"]'}},grow:{defaultValue:null,description:"Shorthand for `flexGrow` style prop",name:"grow",required:!1,type:{name:'SystemProps["flexGrow"]'}},justify:{defaultValue:null,description:"Shorthand for `justifyContent` style prop",name:"justify",required:!1,type:{name:'SystemProps["justifyContent"]'}},shrink:{defaultValue:null,description:"Shorthand for `flexShrink` style prop",name:"shrink",required:!1,type:{name:'SystemProps["flexShrink"]'}},wrap:{defaultValue:null,description:"Shorthand for `flexWrap` style prop",name:"wrap",required:!1,type:{name:'SystemProps["flexWrap"]'}},pagesCount:{defaultValue:null,description:"",name:"pagesCount",required:!0,type:{name:"number"}},pagesToDisplay:{defaultValue:null,description:"",name:"pagesToDisplay",required:!1,type:{name:"number"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!1,type:{name:"((page: number) => void)"}},initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"{ currentPage?: number; }"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"link"'},{value:'"solid"'},{value:'"ghost"'},{value:'"outlined"'}]}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}}}}}catch{}export{L as I,Se as P,B as S,Ne as a,Mr as c,vn as i,Jr as u};
//# sourceMappingURL=Pagination-8356da80.js.map
