import{R as k,r as $}from"./index-8db94870.js";import{J as Le,K as Ie,L as B,M as ne,k as G,N as He,O as xe,P as Se,Q as we,R as F,S as Ae}from"./system-5118686d.js";function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let U="default",ae="",j=new WeakMap;function ge(e){xe()?(U==="default"&&(ae=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),U="disabled"):(e instanceof HTMLElement||e instanceof SVGElement)&&(j.set(e,e.style.userSelect),e.style.userSelect="none")}function Y(e){if(xe()){if(U!=="disabled")return;U="restoring",setTimeout(()=>{Se(()=>{U==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=ae||""),ae="",U="default")})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&j.has(e)){let t=j.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),j.delete(e)}}const Ne=k.createContext(null);Ne.displayName="PressResponderContext";function Be(e){let t=$.useContext(Ne);if(t){let{register:r,...o}=t;e=G(o,e),r()}return we(t,e.ref),e}function Ue(e){let{onPress:t,onPressChange:r,onPressStart:o,onPressEnd:i,onPressUp:u,isDisabled:s,isPressed:a,preventFocusOnPress:l,shouldCancelOnPointerExit:p,allowTextSelectionOnPress:v,ref:T,...b}=Be(e),g=$.useRef(null);g.current={onPress:t,onPressChange:r,onPressStart:o,onPressEnd:i,onPressUp:u,isDisabled:s,shouldCancelOnPointerExit:p};let[h,C]=$.useState(!1),be=$.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:D,removeAllGlobalListeners:I}=Le(),Oe=$.useMemo(()=>{let n=be.current,N=(f,L)=>{let{onPressStart:c,onPressChange:d,isDisabled:V}=g.current;V||n.didFirePressStart||(c&&c({type:"pressstart",pointerType:L,target:f.currentTarget,shiftKey:f.shiftKey,metaKey:f.metaKey,ctrlKey:f.ctrlKey,altKey:f.altKey}),d&&d(!0),n.didFirePressStart=!0,C(!0))},x=(f,L,c=!0)=>{let{onPressEnd:d,onPressChange:V,onPress:ve,isDisabled:Re}=g.current;n.didFirePressStart&&(n.ignoreClickAfterPress=!0,n.didFirePressStart=!1,d&&d({type:"pressend",pointerType:L,target:f.currentTarget,shiftKey:f.shiftKey,metaKey:f.metaKey,ctrlKey:f.ctrlKey,altKey:f.altKey}),V&&V(!1),C(!1),ve&&c&&!Re&&ve({type:"press",pointerType:L,target:f.currentTarget,shiftKey:f.shiftKey,metaKey:f.metaKey,ctrlKey:f.ctrlKey,altKey:f.altKey}))},W=(f,L)=>{let{onPressUp:c,isDisabled:d}=g.current;d||c&&c({type:"pressup",pointerType:L,target:f.currentTarget,shiftKey:f.shiftKey,metaKey:f.metaKey,ctrlKey:f.ctrlKey,altKey:f.altKey})},M=f=>{n.isPressed&&(n.isOverTarget&&x(S(n.target,f),n.pointerType,!1),n.isPressed=!1,n.isOverTarget=!1,n.activePointerId=null,n.pointerType=null,I(),v||Y(n.target))},P={onKeyDown(f){ee(f.nativeEvent,f.currentTarget)&&f.currentTarget.contains(f.target)?(me(f.target,f.key)&&f.preventDefault(),f.stopPropagation(),!n.isPressed&&!f.repeat&&(n.target=f.currentTarget,n.isPressed=!0,N(f,"keyboard"),D(document,"keyup",ke,!1))):f.key==="Enter"&&se(f.currentTarget)&&f.stopPropagation()},onKeyUp(f){ee(f.nativeEvent,f.currentTarget)&&!f.repeat&&f.currentTarget.contains(f.target)&&W(S(n.target,f),"keyboard")},onClick(f){f&&!f.currentTarget.contains(f.target)||f&&f.button===0&&(f.stopPropagation(),s&&f.preventDefault(),!n.ignoreClickAfterPress&&!n.ignoreEmulatedMouseEvents&&(n.pointerType==="virtual"||ne(f.nativeEvent))&&(!s&&!l&&B(f.currentTarget),N(f,"virtual"),W(f,"virtual"),x(f,"virtual")),n.ignoreEmulatedMouseEvents=!1,n.ignoreClickAfterPress=!1)}},ke=f=>{if(n.isPressed&&ee(f,n.target)){me(f.target,f.key)&&f.preventDefault(),f.stopPropagation(),n.isPressed=!1;let L=f.target;x(S(n.target,f),"keyboard",n.target.contains(L)),I(),n.target instanceof HTMLElement&&n.target.contains(L)&&(se(n.target)||n.target.getAttribute("role")==="link")&&n.target.click()}};if(typeof PointerEvent<"u"){P.onPointerDown=d=>{if(!(d.button!==0||!d.currentTarget.contains(d.target))){if(Ie(d.nativeEvent)){n.pointerType="virtual";return}te(d.currentTarget)&&d.preventDefault(),n.pointerType=d.pointerType,d.stopPropagation(),n.isPressed||(n.isPressed=!0,n.isOverTarget=!0,n.activePointerId=d.pointerId,n.target=d.currentTarget,!s&&!l&&B(d.currentTarget),v||ge(n.target),N(d,n.pointerType),D(document,"pointermove",f,!1),D(document,"pointerup",L,!1),D(document,"pointercancel",c,!1))}},P.onMouseDown=d=>{d.currentTarget.contains(d.target)&&d.button===0&&(te(d.currentTarget)&&d.preventDefault(),d.stopPropagation())},P.onPointerUp=d=>{!d.currentTarget.contains(d.target)||n.pointerType==="virtual"||d.button===0&&H(d,d.currentTarget)&&W(d,n.pointerType||d.pointerType)};let f=d=>{d.pointerId===n.activePointerId&&(H(d,n.target)?n.isOverTarget||(n.isOverTarget=!0,N(S(n.target,d),n.pointerType)):n.isOverTarget&&(n.isOverTarget=!1,x(S(n.target,d),n.pointerType,!1),g.current.shouldCancelOnPointerExit&&M(d)))},L=d=>{d.pointerId===n.activePointerId&&n.isPressed&&d.button===0&&(H(d,n.target)?x(S(n.target,d),n.pointerType):n.isOverTarget&&x(S(n.target,d),n.pointerType,!1),n.isPressed=!1,n.isOverTarget=!1,n.activePointerId=null,n.pointerType=null,I(),v||Y(n.target))},c=d=>{M(d)};P.onDragStart=d=>{d.currentTarget.contains(d.target)&&M(d)}}else{P.onMouseDown=c=>{c.button!==0||!c.currentTarget.contains(c.target)||(te(c.currentTarget)&&c.preventDefault(),c.stopPropagation(),!n.ignoreEmulatedMouseEvents&&(n.isPressed=!0,n.isOverTarget=!0,n.target=c.currentTarget,n.pointerType=ne(c.nativeEvent)?"virtual":"mouse",!s&&!l&&B(c.currentTarget),N(c,n.pointerType),D(document,"mouseup",f,!1)))},P.onMouseEnter=c=>{c.currentTarget.contains(c.target)&&(c.stopPropagation(),n.isPressed&&!n.ignoreEmulatedMouseEvents&&(n.isOverTarget=!0,N(c,n.pointerType)))},P.onMouseLeave=c=>{c.currentTarget.contains(c.target)&&(c.stopPropagation(),n.isPressed&&!n.ignoreEmulatedMouseEvents&&(n.isOverTarget=!1,x(c,n.pointerType,!1),g.current.shouldCancelOnPointerExit&&M(c)))},P.onMouseUp=c=>{c.currentTarget.contains(c.target)&&!n.ignoreEmulatedMouseEvents&&c.button===0&&W(c,n.pointerType)};let f=c=>{if(c.button===0){if(n.isPressed=!1,I(),n.ignoreEmulatedMouseEvents){n.ignoreEmulatedMouseEvents=!1;return}H(c,n.target)?x(S(n.target,c),n.pointerType):n.isOverTarget&&x(S(n.target,c),n.pointerType,!1),n.isOverTarget=!1}};P.onTouchStart=c=>{if(!c.currentTarget.contains(c.target))return;c.stopPropagation();let d=_e(c.nativeEvent);d&&(n.activePointerId=d.identifier,n.ignoreEmulatedMouseEvents=!0,n.isOverTarget=!0,n.isPressed=!0,n.target=c.currentTarget,n.pointerType="touch",!s&&!l&&B(c.currentTarget),v||ge(n.target),N(c,n.pointerType),D(window,"scroll",L,!0))},P.onTouchMove=c=>{if(!c.currentTarget.contains(c.target)||(c.stopPropagation(),!n.isPressed))return;let d=$e(c.nativeEvent,n.activePointerId);d&&H(d,c.currentTarget)?n.isOverTarget||(n.isOverTarget=!0,N(c,n.pointerType)):n.isOverTarget&&(n.isOverTarget=!1,x(c,n.pointerType,!1),g.current.shouldCancelOnPointerExit&&M(c))},P.onTouchEnd=c=>{if(!c.currentTarget.contains(c.target)||(c.stopPropagation(),!n.isPressed))return;let d=$e(c.nativeEvent,n.activePointerId);d&&H(d,c.currentTarget)?(W(c,n.pointerType),x(c,n.pointerType)):n.isOverTarget&&x(c,n.pointerType,!1),n.isPressed=!1,n.activePointerId=null,n.isOverTarget=!1,n.ignoreEmulatedMouseEvents=!0,v||Y(n.target),I()},P.onTouchCancel=c=>{c.currentTarget.contains(c.target)&&(c.stopPropagation(),n.isPressed&&M(c))};let L=c=>{n.isPressed&&c.target.contains(n.target)&&M({currentTarget:n.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};P.onDragStart=c=>{c.currentTarget.contains(c.target)&&M(c)}}return P},[D,s,l,I,v]);return $.useEffect(()=>()=>{v||Y(be.current.target)},[v]),{isPressed:a||h,pressProps:G(b,Oe)}}function se(e){return e.tagName==="A"&&e.hasAttribute("href")}function ee(e,t){const{key:r,code:o}=e,i=t,u=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||o==="Space")&&!(i instanceof HTMLInputElement&&!Me(i,r)||i instanceof HTMLTextAreaElement||i.isContentEditable)&&(!se(i)||u==="button"&&r!=="Enter")&&!(u==="link"&&r!=="Enter")}function _e(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function $e(e,t){const r=e.changedTouches;for(let o=0;o<r.length;o++){const i=r[o];if(i.identifier===t)return i}return null}function S(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function We(e){let t=e.width/2||e.radiusX||0,r=e.height/2||e.radiusY||0;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Ge(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function H(e,t){let r=t.getBoundingClientRect(),o=We(e);return Ge(r,o)}function te(e){return!(e instanceof HTMLElement)||!e.draggable}function me(e,t){return e instanceof HTMLInputElement?!Me(e,t):e instanceof HTMLButtonElement?e.type!=="submit":!0}const Ve=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Me(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Ve.has(e.type)}class Ye{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function Ke(e){let t=$.useRef({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,F(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),$.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=u=>{var s,a;t.current.isFocused=!1,o.disabled&&((a=(s=t.current).onBlur)===null||a===void 0||a.call(s,new Ye("blur",u))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{t.current.isFocused&&o.disabled&&(t.current.observer.disconnect(),o.dispatchEvent(new FocusEvent("blur")),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[])}function ze(e){let{isDisabled:t,onFocus:r,onBlur:o,onFocusChange:i}=e;const u=$.useCallback(l=>{if(l.target===l.currentTarget)return o&&o(l),i&&i(!1),!0},[o,i]),s=Ke(u),a=$.useCallback(l=>{l.target===l.currentTarget&&document.activeElement===l.target&&(r&&r(l),i&&i(!0),s(l))},[i,r,s]);return{focusProps:{onFocus:!t&&(r||i||o)?a:void 0,onBlur:!t&&(o||i)?u:void 0}}}let _=null,Xe=new Set,Ee=!1,R=!1,ie=!1;function fe(e,t){for(let r of Xe)r(e,t)}function je(e){return!(e.metaKey||!Ae()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function he(e){R=!0,je(e)&&(_="keyboard",fe("keyboard",e))}function A(e){_="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(R=!0,fe("pointer",e))}function qe(e){ne(e)&&(R=!0,_="virtual")}function Je(e){e.target===window||e.target===document||(!R&&!ie&&(_="virtual",fe("virtual",e)),R=!1,ie=!1)}function Qe(){R=!1,ie=!0}function Te(){if(typeof window>"u"||Ee)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){R=!0,e.apply(this,arguments)},document.addEventListener("keydown",he,!0),document.addEventListener("keyup",he,!0),document.addEventListener("click",qe,!0),window.addEventListener("focus",Je,!0),window.addEventListener("blur",Qe,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",A,!0),document.addEventListener("pointermove",A,!0),document.addEventListener("pointerup",A,!0)):(document.addEventListener("mousedown",A,!0),document.addEventListener("mousemove",A,!0),document.addEventListener("mouseup",A,!0)),Ee=!0}typeof document<"u"&&(document.readyState!=="loading"?Te():document.addEventListener("DOMContentLoaded",Te));function $t(){return _!=="pointer"}function Ze(){return _}function mt(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:o,onFocusWithinChange:i}=e,u=$.useRef({isFocusWithin:!1}),s=$.useCallback(p=>{u.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(u.current.isFocusWithin=!1,r&&r(p),i&&i(!1))},[r,i,u]),a=Ke(s),l=$.useCallback(p=>{!u.current.isFocusWithin&&document.activeElement===p.target&&(o&&o(p),i&&i(!0),u.current.isFocusWithin=!0,a(p))},[o,i,a]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let q=!1,re=0;function ue(){q=!0,setTimeout(()=>{q=!1},50)}function ye(e){e.pointerType==="touch"&&ue()}function et(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ye):document.addEventListener("touchend",ue),re++,()=>{re--,!(re>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ye):document.removeEventListener("touchend",ue))}}function Et(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:o,isDisabled:i}=e,[u,s]=$.useState(!1),a=$.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;$.useEffect(et,[]);let{hoverProps:l,triggerHoverEnd:p}=$.useMemo(()=>{let v=(g,h)=>{if(a.pointerType=h,i||h==="touch"||a.isHovered||!g.currentTarget.contains(g.target))return;a.isHovered=!0;let C=g.currentTarget;a.target=C,t&&t({type:"hoverstart",target:C,pointerType:h}),r&&r(!0),s(!0)},T=(g,h)=>{if(a.pointerType="",a.target=null,h==="touch"||!a.isHovered)return;a.isHovered=!1;let C=g.currentTarget;o&&o({type:"hoverend",target:C,pointerType:h}),r&&r(!1),s(!1)},b={};return typeof PointerEvent<"u"?(b.onPointerEnter=g=>{q&&g.pointerType==="mouse"||v(g,g.pointerType)},b.onPointerLeave=g=>{!i&&g.currentTarget.contains(g.target)&&T(g,g.pointerType)}):(b.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},b.onMouseEnter=g=>{!a.ignoreEmulatedMouseEvents&&!q&&v(g,"mouse"),a.ignoreEmulatedMouseEvents=!1},b.onMouseLeave=g=>{!i&&g.currentTarget.contains(g.target)&&T(g,"mouse")}),{hoverProps:b,triggerHoverEnd:T}},[t,r,o,i,a]);return $.useEffect(()=>{i&&p({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:u}}function ht(e){let{ref:t,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:i}=e,s=$.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1,onInteractOutside:r,onInteractOutsideStart:i}).current;s.onInteractOutside=r,s.onInteractOutsideStart=i,$.useEffect(()=>{if(o)return;let a=l=>{z(l,t)&&s.onInteractOutside&&(s.onInteractOutsideStart&&s.onInteractOutsideStart(l),s.isPointerDown=!0)};if(typeof PointerEvent<"u"){let l=p=>{s.isPointerDown&&s.onInteractOutside&&z(p,t)&&s.onInteractOutside(p),s.isPointerDown=!1};return document.addEventListener("pointerdown",a,!0),document.addEventListener("pointerup",l,!0),()=>{document.removeEventListener("pointerdown",a,!0),document.removeEventListener("pointerup",l,!0)}}else{let l=v=>{s.ignoreEmulatedMouseEvents?s.ignoreEmulatedMouseEvents=!1:s.isPointerDown&&s.onInteractOutside&&z(v,t)&&s.onInteractOutside(v),s.isPointerDown=!1},p=v=>{s.ignoreEmulatedMouseEvents=!0,s.onInteractOutside&&s.isPointerDown&&z(v,t)&&s.onInteractOutside(v),s.isPointerDown=!1};return document.addEventListener("mousedown",a,!0),document.addEventListener("mouseup",l,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",p,!0),()=>{document.removeEventListener("mousedown",a,!0),document.removeEventListener("mouseup",l,!0),document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",p,!0)}}},[t,s,o])}function z(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function Pe(e){if(!e)return;let t=!0;return r=>{let o={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(o),t&&r.stopPropagation()}}function tt(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Pe(e.onKeyDown),onKeyUp:Pe(e.onKeyUp)}}}const rt=500;function Tt(e){let{isDisabled:t,onLongPressStart:r,onLongPressEnd:o,onLongPress:i,threshold:u=rt,accessibilityDescription:s}=e;const a=$.useRef(null);let{addGlobalListener:l,removeGlobalListener:p}=Le(),{pressProps:v}=Ue({isDisabled:t,onPressStart(b){if((b.pointerType==="mouse"||b.pointerType==="touch")&&(r&&r({...b,type:"longpressstart"}),a.current=setTimeout(()=>{b.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...b,type:"longpress"}),a.current=null},u),b.pointerType==="touch")){let g=h=>{h.preventDefault()};l(b.target,"contextmenu",g,{once:!0}),l(window,"pointerup",()=>{setTimeout(()=>{p(b.target,"contextmenu",g)},30)},{once:!0})}},onPressEnd(b){a.current&&clearTimeout(a.current),o&&(b.pointerType==="mouse"||b.pointerType==="touch")&&o({...b,type:"longpressend"})}}),T=He(i&&!t?s:null);return{longPressProps:G(v,T)}}function Fe(e){if(Ze()==="virtual"){let t=document.activeElement;Se(()=>{document.activeElement===t&&document.contains(e)&&B(e)})}else B(e)}function nt(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;let{display:t,visibility:r}=e.style,o=t!=="none"&&r!=="hidden"&&r!=="collapse";if(o){const{getComputedStyle:i}=e.ownerDocument.defaultView;let{display:u,visibility:s}=i(e);o=u!=="none"&&s!=="hidden"&&s!=="collapse"}return o}function ot(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function Ce(e,t){return e.nodeName!=="#comment"&&nt(e)&&ot(e,t)&&(!e.parentElement||Ce(e.parentElement,e))}const ce=k.createContext(null);let m=null;function yt(e){let{children:t,contain:r,restoreFocus:o,autoFocus:i}=e,u=$.useRef(),s=$.useRef(),a=$.useRef([]),{parentNode:l}=$.useContext(ce)||{},p=$.useMemo(()=>new le({scopeRef:a}),[a]);F(()=>{let b=l||E.root;if(E.getTreeNode(b.scopeRef)&&m&&!Q(m,b.scopeRef)){let g=E.getTreeNode(m);g&&(b=g)}b.addChild(p),E.addNode(p)},[p,l]),F(()=>{let b=E.getTreeNode(a);b.contain=r},[r]),F(()=>{let b=u.current.nextSibling,g=[];for(;b&&b!==s.current;)g.push(b),b=b.nextSibling;a.current=g},[t]),lt(a,o,r),ut(a,r),dt(a,o,r),ct(a,i),$.useEffect(()=>{if(a){let b=document.activeElement,g=null;if(y(b,a.current)){for(let h of E.traverse())y(b,h.scopeRef.current)&&(g=h);g===E.getTreeNode(a)&&(m=g.scopeRef)}return()=>{let h=E.getTreeNode(a).parent.scopeRef;(a===m||Q(a,m))&&(!h||E.getTreeNode(h))&&(m=h),E.removeTreeNode(a)}}},[a]);let v=$.useMemo(()=>at(a),[]),T=$.useMemo(()=>({focusManager:v,parentNode:p}),[p,v]);return k.createElement(ce.Provider,{value:T},k.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:u}),t,k.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:s}))}function Pt(){var e;return(e=$.useContext(ce))===null||e===void 0?void 0:e.focusManager}function at(e){return{focusNext(t={}){let r=e.current,{from:o,tabbable:i,wrap:u,accept:s}=t,a=o||document.activeElement,l=r[0].previousElementSibling,p=K(O(r),{tabbable:i,accept:s},r);p.currentNode=y(a,r)?a:l;let v=p.nextNode();return!v&&u&&(p.currentNode=l,v=p.nextNode()),v&&w(v,!0),v},focusPrevious(t={}){let r=e.current,{from:o,tabbable:i,wrap:u,accept:s}=t,a=o||document.activeElement,l=r[r.length-1].nextElementSibling,p=K(O(r),{tabbable:i,accept:s},r);p.currentNode=y(a,r)?a:l;let v=p.previousNode();return!v&&u&&(p.currentNode=l,v=p.previousNode()),v&&w(v,!0),v},focusFirst(t={}){let r=e.current,{tabbable:o,accept:i}=t,u=K(O(r),{tabbable:o,accept:i},r);u.currentNode=r[0].previousElementSibling;let s=u.nextNode();return s&&w(s,!0),s},focusLast(t={}){let r=e.current,{tabbable:o,accept:i}=t,u=K(O(r),{tabbable:o,accept:i},r);u.currentNode=r[r.length-1].nextElementSibling;let s=u.previousNode();return s&&w(s,!0),s}}}const de=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],st=de.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";de.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const it=de.join(':not([hidden]):not([tabindex="-1"]),');function O(e){return e[0].parentElement}function X(e){let t=E.getTreeNode(m);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function ut(e,t){let r=$.useRef(),o=$.useRef(null);F(()=>{let i=e.current;if(!t){o.current&&(cancelAnimationFrame(o.current),o.current=null);return}let u=l=>{if(l.key!=="Tab"||l.altKey||l.ctrlKey||l.metaKey||!X(e))return;let p=document.activeElement,v=e.current;if(!y(p,v))return;let T=K(O(v),{tabbable:!0},v);T.currentNode=p;let b=l.shiftKey?T.previousNode():T.nextNode();b||(T.currentNode=l.shiftKey?v[v.length-1].nextElementSibling:v[0].previousElementSibling,b=l.shiftKey?T.previousNode():T.nextNode()),l.preventDefault(),b&&w(b,!0)},s=l=>{(!m||Q(m,e))&&y(l.target,e.current)?(m=e,r.current=l.target):X(e)&&!J(l.target,e)?r.current?r.current.focus():m&&Z(m.current):X(e)&&(r.current=l.target)},a=l=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{X(e)&&!J(document.activeElement,e)&&(m=e,document.body.contains(l.target)?(r.current=l.target,r.current.focus()):m&&Z(m.current))})};return document.addEventListener("keydown",u,!1),document.addEventListener("focusin",s,!1),i.forEach(l=>l.addEventListener("focusin",s,!1)),i.forEach(l=>l.addEventListener("focusout",a,!1)),()=>{document.removeEventListener("keydown",u,!1),document.removeEventListener("focusin",s,!1),i.forEach(l=>l.removeEventListener("focusin",s,!1)),i.forEach(l=>l.removeEventListener("focusout",a,!1))}},[e,t]),$.useEffect(()=>()=>{o.current&&cancelAnimationFrame(o.current)},[o])}function De(e){return J(e)}function y(e,t){return t.some(r=>r.contains(e))}function J(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of E.traverse(E.getTreeNode(t)))if(y(e,r.current))return!0;return!1}function Lt(e){return J(e,m)}function Q(e,t){var r;let o=(r=E.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;o;){if(o.scopeRef===e)return!0;o=o.parent}return!1}function w(e,t=!1){if(e!=null&&!t)try{Fe(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function Z(e,t=!0){let r=e[0].previousElementSibling,o=K(O(e),{tabbable:t},e);o.currentNode=r;let i=o.nextNode();t&&!i&&(o=K(O(e),{tabbable:!1},e),o.currentNode=r,i=o.nextNode()),w(i)}function ct(e,t){const r=k.useRef(t);$.useEffect(()=>{r.current&&(m=e,y(document.activeElement,m.current)||Z(e.current)),r.current=!1},[e])}function lt(e,t,r){F(()=>{if(t||r)return;let o=e.current,i=u=>{let s=u.target;y(s,e.current)?m=e:De(s)||(m=null)};return document.addEventListener("focusin",i,!1),o.forEach(u=>u.addEventListener("focusin",i,!1)),()=>{document.removeEventListener("focusin",i,!1),o.forEach(u=>u.removeEventListener("focusin",i,!1))}},[e,t,r])}function ft(e){let t=E.getTreeNode(m);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function dt(e,t,r){const o=$.useRef(typeof document<"u"?document.activeElement:null);F(()=>{let i=e.current;if(!t||r)return;let u=()=>{(!m||Q(m,e))&&(m=e)};return document.addEventListener("focusin",u,!1),i.forEach(s=>s.addEventListener("focusin",u,!1)),()=>{document.removeEventListener("focusin",u,!1),i.forEach(s=>s.removeEventListener("focusin",u,!1))}},[e,r]),F(()=>{if(!t)return;E.getTreeNode(e).nodeToRestore=o.current;let i=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey)return;let s=document.activeElement;if(!y(s,e.current))return;let a=E.getTreeNode(e).nodeToRestore,l=K(document.body,{tabbable:!0});l.currentNode=s;let p=u.shiftKey?l.previousNode():l.nextNode();if((!document.body.contains(a)||a===document.body)&&(a=null,E.getTreeNode(e).nodeToRestore=null),(!p||!y(p,e.current))&&a){l.currentNode=a;do p=u.shiftKey?l.previousNode():l.nextNode();while(y(p,e.current));u.preventDefault(),u.stopPropagation(),p?w(p,!0):De(a)?w(a,!0):s.blur()}};return r||document.addEventListener("keydown",i,!0),()=>{r||document.removeEventListener("keydown",i,!0);let u=E.getTreeNode(e).nodeToRestore;if(t&&u&&(y(document.activeElement,e.current)||document.activeElement===document.body&&ft(e))){let s=E.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let a=s.getTreeNode(e);for(;a;){if(a.nodeToRestore&&document.body.contains(a.nodeToRestore)){w(a.nodeToRestore);return}a=a.parent}for(a=s.getTreeNode(e);a;){if(a.scopeRef&&E.getTreeNode(a.scopeRef)){Z(a.scopeRef.current,!0);return}a=a.parent}}})}}},[e,t,r])}function K(e,t,r){let o=t!=null&&t.tabbable?it:st,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(u){var s;return!(t==null||(s=t.from)===null||s===void 0)&&s.contains(u)?NodeFilter.FILTER_REJECT:u.matches(o)&&Ce(u)&&(!r||y(u,r))&&(!(t!=null&&t.accept)||t.accept(u))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}class pe{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,o){let i=this.fastMap.get(r??null),u=new le({scopeRef:t});i.addChild(u),u.parent=i,this.fastMap.set(t,u),o&&(u.nodeToRestore=o)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t),o=r.parent;for(let u of this.traverse())u!==r&&r.nodeToRestore&&u.nodeToRestore&&r.scopeRef.current&&y(u.nodeToRestore,r.scopeRef.current)&&(u.nodeToRestore=r.nodeToRestore);let i=r.children;o.removeChild(r),i.size>0&&i.forEach(u=>o.addChild(u)),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){let t=new pe;for(let r of this.traverse())t.addTreeNode(r.scopeRef,r.parent.scopeRef,r.nodeToRestore);return t}constructor(){oe(this,"fastMap",new Map),this.root=new le({scopeRef:null}),this.fastMap.set(null,this.root)}}class le{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){oe(this,"children",new Set),oe(this,"contain",!1),this.scopeRef=t.scopeRef}}let E=new pe,pt=k.createContext(null);function bt(e){let t=$.useContext(pt)||{};we(t,e);let{ref:r,...o}=t;return o}function xt(e,t){let{focusProps:r}=ze(e),{keyboardProps:o}=tt(e),i=G(r,o),u=bt(t),s=e.isDisabled?{}:u,a=$.useRef(e.autoFocus);return $.useEffect(()=>{a.current&&t.current&&Fe(t.current),a.current=!1},[t]),{focusableProps:G({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},s)}}export{Fe as $,oe as _,yt as a,Pt as b,xt as c,Ue as d,ht as e,mt as f,Lt as g,Tt as h,Ze as i,K as j,Et as k,$t as l};
//# sourceMappingURL=import-b8fa3143.js.map
